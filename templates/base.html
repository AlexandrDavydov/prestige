<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Prestige{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    {% block head %}{% endblock %}
</head>
<body>
<a href="{{ url_for('logout') }}">ğŸšª Ğ’Ñ‹Ğ¹Ñ‚Ğ¸</a>
    <nav>
        <a href="{{ url_for('index') }}"> ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ</a>
        <a href="{{ url_for('lessons') }}">ğŸ§˜â€â™€ï¸ Ğ—Ğ°Ğ½ÑÑ‚Ğ¸Ñ</a>
        <a href="{{ url_for('students') }}"> ğŸƒâ€â™‚ï¸ Ğ£Ñ‡ĞµĞ½Ğ¸ĞºĞ¸</a>
        <a href="{{ url_for('coaches') }}"> ğŸ‘¨â€ğŸ« Ğ¢Ñ€ĞµĞ½ĞµÑ€Ñ‹</a>
        <a href="{{ url_for('cards') }}"> ğŸªª ĞĞ±Ğ¾Ğ½ĞµĞ¼ĞµĞ½Ñ‚Ñ‹</a>
        <a href="{{ url_for('lesson_templates') }}"> ğŸ“š Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½Ñ‹ Ğ·Ğ°Ğ½ÑÑ‚Ğ¸Ğ¹</a>
        <a href="{{ url_for('lesson_templates') }}"> ğŸ“ˆ ĞÑ‚Ñ‡ĞµÑ‚Ñ‹</a>
    </nav>
<div class="container">
    <!-- Flash ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ -->
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <div class="flash {{ category }}">
        {{ message | safe }}
        <button class="close-btn" onclick="this.parentElement.style.display='none';">&times;</button>
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}

    <!-- ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ -->
    {% block content %}{% endblock %}
</div>
<div id="deleteModal" class="modal">
    <div class="modal-content">
        <p>Ğ’Ñ‹ ÑƒĞ²ĞµÑ€ĞµĞ½Ñ‹, Ñ‡Ñ‚Ğ¾ Ñ…Ğ¾Ñ‚Ğ¸Ñ‚Ğµ ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ?</p>
        <button onclick="confirmDelete()">Ğ”Ğ°</button>
        <button onclick="closeDeleteModal()">ĞĞµÑ‚</button>
    </div>
</div>
<script>
    // ĞĞ²Ñ‚Ğ¾ÑĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ Ğ²ÑĞµÑ… flash ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ Ñ‡ĞµÑ€ĞµĞ· 5 ÑĞµĞºÑƒĞ½Ğ´
    window.addEventListener('DOMContentLoaded', () => {
        const flashes = document.querySelectorAll('.flash');
        flashes.forEach(flash => {
            setTimeout(() => {
                flash.style.opacity = '0';
                flash.style.maxHeight = '0';
                flash.style.margin = '0';
                setTimeout(() => flash.remove(), 500); // Ğ¾ĞºĞ¾Ğ½Ñ‡Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ
            }, 5000); // 5000 Ğ¼Ñ = 5 ÑĞµĞºÑƒĞ½Ğ´
        });
    });
</script>
<script>
    let deleteUrl = null;

    function openDeleteModal(url) {
        deleteUrl = url;
        document.getElementById("deleteModal").style.display = "flex";
    }

    function closeDeleteModal() {
        document.getElementById("deleteModal").style.display = "none";
    }

    function confirmDelete() {
        window.location.href = deleteUrl;
    }
</script>

<script>
document.addEventListener("DOMContentLoaded", function() {
    document.querySelectorAll('.delete-btn').forEach(btn => {
        btn.addEventListener('click', function(e) {
            e.preventDefault();
            openDeleteModal(this.dataset.url);
        });
    });
});
</script>
</body>
</html>
